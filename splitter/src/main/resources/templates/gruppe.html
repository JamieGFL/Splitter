<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
        crossorigin="anonymous">
  <title>Title</title>
  <script type="text/javascript" src="../static/script.js" th:src="@{/script.js}"></script>
</head>
<body>
<h1>Gruppe</h1>


<form id="1" method="post" th:action="@{/gruppe/add}" th:object="${loginForm}">
  <input type="hidden" name="id" value="id" th:value="${gruppe.id}">
  <label for="name">Fuege Leute in deine Gruppe hinzu:</label>
  <input class="form-control z-depth-1 w-25" id="name" type="text" name="login" th:field="*{login}">
  <small class="text-danger" th:if="${#fields.hasErrors('login')}" th:errors="*{login}" ></small>
  <button class="btn btn-dark"> Zur Gruppe Hinzufügen</button>
</form>



<table class="table table-bordered table-dark w-25">

  <thead>
  <tr>
    <th>Mitglieder</th>
  </tr>
  </thead>
  <tbody>

  <div th:if="${gruppe} != null">
    <tr th:each="person : ${gruppe.getPersonen()}">
      <td th:text="${person.getName()}"> </td>
    </tr>
  </div>

  </tbody>

</table>


<form id="2" method="post" th:action="@{/gruppe/add/ausgaben}" >
  <input type="hidden" name="id" value="id" th:value="${gruppe.id}">
  <input type="text" name="aktivitaet">
  <input type="text" name="zahler">
  <input type="text" name="teilnehmer">
  <input type="text" name="betrag">

  <button class="btn btn-dark"  >Ausgabe hinzufügen</button>

</form>


<table class="table table-bordered table-dark w-25">

  <thead>
  <tr>
    <th>Aktivität</th>
    <th>Zahler</th>
    <th>Teilnehmer</th>
    <th>Betrag</th>
  </tr>
  </thead>
  <tbody>

  <div th:if="${gruppe} != null">
    <tr th:each="person : ${gruppe.gruppenAusgaben}">
      <td th:text="${person.getAktivitaet().name()}"> </td>
      <td th:text="${person.getAusleger().name}"> </td>
      <td th:text="${person.getPersonenNamen()}"></td>
      <td th:text="${person.getGesamtKosten()}"> </td>
    </tr>
  </div>

  </tbody>

</table>




<form id="3" method="post" th:action="@{/gruppe/add/ausgaben/transaktion}" >
  <input type="hidden" name="id" value="id" th:value="${gruppe.id}">


  <button class="btn btn-dark"> Transaktion berechnen </button>

</form>


<table class="table table-bordered table-dark w-25">

  <thead>
  <tr>
    <th>Transaktionen</th>

  </tr>
  </thead>
  <tbody th:remove="all-but-first" >

  <div th:if="${gruppe} != null">
    <tr th:each="transaktion : ${gruppe.getTransaktionsNachrichten()}">
      <td th:text="${transaktion}"></td>
    </tr>
  </div>

  </tbody>

</table>


<form method="post" th:action="@{/gruppe/close}">
  <input type="hidden" name="id" value="id" th:value="${gruppe.id}">
  <button id="4" onclick="toggleGeschlossen(this)">Gruppe schließen</button>
</form>

<a href="/"> zurück zur Gruppen-übersicht </a>

</body>
</html>